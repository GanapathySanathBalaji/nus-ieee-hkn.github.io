<!DOCTYPE HTML>

<html style="overflow:auto">
	<head>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-138650989-2"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-138650989-2');
		</script>
		
		<title>IEEE-HKN NUS</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="landing is-preload">

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">IEEE-HKN NUS</a></h1>
						<nav id="nav">
							<ul>
								<li class="special">
									<a href="#menu" class="menuToggle"><span>Menu</span></a>
									<div id="menu">
										<ul>
											<li><a href="index.html"><i class="fa fa-home fa-fw" aria-hidden="true"></i>&nbsp; Home</a></li>
											<!-- To be implemented -->
											<li><a href="about.html"><i class="fa fa-info fa-fw" aria-hidden="true"></i>&nbsp; About</a></li>
											<li><a href="https://nus-ieee-hkn.github.io/news/"><i class="fa fa-newspaper-o fa-fw" aria-hidden="true"></i>&nbsp; News</a></li>
											<li><a href="resources.html"><i class="fa fa-book fa-fw" aria-hidden="true"></i>&nbsp; Resources</a></li>
											<li><a href="calendar.html"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i>&nbsp; Calendar</a></li>
											<li><a href="committee.html"><i class="fa fa-user-secret fa-fw" aria-hidden="true"></i>&nbsp; Committee</a></li>
											<li><a href="members.html"><i class="fa fa-users fa-fw" aria-hidden="true"></i>&nbsp; Members</a></li>
											<li><a href="contactus.html"><i class="fa fa-envelope-o fa-fw" aria-hidden="true"></i>&nbsp; Contact Us</a></li>
										</ul>
									</div>
								</li>
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<article id="main">
						<header>
							<h2>Resources</h2>
							<p>Browse through the resources our members have curated<br>for various modules offered by NUS Electrical Engineering department.</p>
						</header>
					
						<!-- Add new section here -->

						<!-- Find past year paper solutions by module code. 
                        Solution files to be added under (new) folder "past year papers/~ MOD CODE (in caps)~" 
                        E.g. past year papers/CS1010E/CS1010E AY1920 S2.pdf 
						Please do not create empty folders.-->
						<section class="wrapper style5" id="searchPYP">
							<div class="inner">
                                <h2>ECE Past Year Papers</h2>
								<p>We are updating our database. Do look out for it in the near future!</p>
								<input id="pyp_form" onkeydown="if (event.keyCode == 13) find_pyp()" type="text" name="modCode" placeholder="Enter module code" value="" style="margin: 0 0 0.5em; width: 85%; display:inline-block">
                                <button onclick="find_pyp()">Search</button>
								<div id="pyp_list"></div>
								<!-- <a href="past year papers/CS1010E"></a> -->
								<script>
									var user_input = document.getElementById("pyp_form");
									var pyp_list = document.getElementById("pyp_list");
									function find_pyp() {
										var insertHTML = "";
										var modCode = user_input.value;
										if (modCode != "") {
											modCode = modCode.toUpperCase();
											var dir = "past year papers/" + modCode;
											var xhttp = new XMLHttpRequest;
											xhttp.open('GET', dir);
											xhttp.send();
											xhttp.onload = function() {
												if (xhttp.status == 404) {
													insertHTML += "<br>Past year papers not found for " + modCode + ".";
												} else {
													var txt = xhttp.responseText;
													var lines = txt.split('\n');
													for (i = 0;i < lines.length;i++) {
														if (lines[i].includes('<a href=') && lines[i].includes('.pdf')) {
															if (insertHTML == "") insertHTML += "<br><ul>";
															// console.log(lines[i]);
															var regExp = /\a href="[^"]*\.pdf/g;
															var match = lines[i].match(regExp)[0].slice(8);
															// console.log(match);
															var filename = match;
															if (match.includes('past%20year%20papers')) {
																filename = match.split("/");
																filename = filename[filename.length-1];
															}
															filename = filename.replace(/%20/g," ");
															// console.log(filename);
															insertHTML += "<li><a href='"+dir+"/"+filename+"'>"+filename+"</a></li>";
														}
													}
													insertHTML += "</ul>"
												}
												pyp_list.innerHTML = insertHTML;
											}
										} else {
											insertHTML += "<br>Please enter a module code."
											pyp_list.innerHTML = insertHTML;
										}
									}
								</script>
							</div>
						</section>
					</article>


				<!-- Footer -->
					<footer id="footer">
						<ul class="icons">
							<li><a href="https://twitter.com/IEEE_EtaKappaNu?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="https://www.facebook.com/IEEE.HKN/" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<!-- <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li> -->
							<!-- <li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li> -->
							<li><a href="https://www.linkedin.com/company/nushkn" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li>
							<li><a href="https://github.com/nus-ieee-hkn" class="icon fa-github"><span class="label">Github</span></a></li>
							<li><a href="mailto:nus.ieee.hkn@gmail.com" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
						</ul>
						<ul class="copyright">
							<li>&copy; IEEE-HKN NUS</li><li>Theme: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</footer>

			</div>

            <!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>